<!DOCTYPE html>
<html lang="en">
<head>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="//api3.libcal.com/js/hours_grid.js?002"></script>
  <script>
    /*
     * parameters:
     * lid
     *   - the libcal-provided unique id for the library (libraries and service points (departments) both have lids - we only want to show full libraries here)
     *   - eg 3823 is (currently) Architecture & Music Library
     *   - a non existant lid gives 'dashed' data, set to a jan-1
     *   - set value = 0 to view all libraries
     *   - if not provided, we default to 0 (ie all libraries)
     *  numweeks
     *  - the number of weeks to be displayed in the widget
     *  - a value that is more than some arbitrary large number (eg 200) is reset at libcal to 4
     *  - if not provided, we default to 4
     */

    function getparameters(uri) {
      var result = "Not found",
              tmp = [];
      var items = location.search.substr(1).split("&");
      for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === uri) result = decodeURIComponent(tmp[1]);
      }
      return result;
    }
    var numweeks = getparameters('numweeks');
    if (typeof(numweeks) === 'Not found') { numweeks = 4; }

    var lid = getparameters('lid');
    if (typeof(lid) === 'Not found') { lid = 0; }

    $(function(){
      const LibCalUQID = 3633;
      var week = new $.LibCalWeeklyGrid( $("#s-lc-whw"), { iid: LibCalUQID, lid: lid,  weeks: numweeks });
    });
  </script>

  <link rel="stylesheet" type="text/css" href="//assets.library.uq.edu.au/master/reusable-components/libwww/libcal-styles.css">
</head>
<body>
<div id="s-lc-whw"></div>
</body>
</html>