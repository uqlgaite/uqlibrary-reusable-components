<!DOCTYPE html>

<html manifest="//assets.library.uq.edu.au/master/reusable-components/libwww/reusable-components.appcache">

<head>
  <title>UQLibrary Reusable Components Demo</title>
  <meta name=viewport content="width=device-width, initial-scale=1">

  <script src="../../webcomponentsjs/webcomponents-lite.js" async></script>
  <link rel="import" href="../../elements.vulcanized.html" async>

  <!--<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>-->
  <!--<link rel="import" href="../elements.html">-->
  <!--<link rel="import" href="../elements.vulcanized.html">-->

  <style>
    @media (max-width: 1047px) {
      body {
        margin: 0px;
        padding: 0px;
        margin-top: 66px !important;
      }
    }
    @media (min-width: 1048px) {
      body {
        margin: 0px;
        padding: 0px;
        margin-top: 100px !important;
      }
    }

    .body {
      /*padding: 50px 0px 0px 100px;*/
      margin: 0 auto;
    }
    input {
      margin: 5px;
    }
  </style>
</head>

<body  class="fullbleed layout vertical">
<template id="Demo" is="dom-bind">
  <uq-minimal-header application-title="{{appTitle}}"
                     chat-configuration="{{chatStatusConfig}}"
                     show-chat-button="{{showChatStatus}}"
                     show-i-a-button="{{showIAStatus}}"
                     show-search-button="{{showSearchStatus}}"
                     show-login-button="{{showLoginStatus}}"
                     show-apps-button="{{showAppsStatus}}"
                     show-buttons-title="{{showButtonTitle}}"
                     show-menu-button="{{showMenuButton}}"
                     on-menu-clicked="processEvent"
          ></uq-minimal-header>
  <uql-menu id="menu" menu-json="{{menuJson}}"></uql-menu>

  <div class="body">
    <div> Application title <input value="{{appTitle::input}}"> </div>
    <div> Show buttons title <input type="checkbox" checked="{{showButtonTitle::change}}"> </div>
    <hr>
    <div> Chat button text<input value="{{chatStatusConfig.buttonTitle::input}}"> </div>
    <div> Chat online text<input value="{{chatStatusConfig.chatOnlineText::input}}"> </div>
    <div> Chat offline text<input value="{{chatStatusConfig.chatOfflineText::input}}"> </div>
    <hr>
    <div> Show search status <input type="checkbox" checked="{{showSearchStatus::change}}"> </div>
    <div> Show apps status <input type="checkbox" checked="{{showAppsStatus::change}}"> </div>
    <div> Show chat status <input type="checkbox" checked="{{showChatStatus::change}}"> </div>
    <div> Show login button <input type="checkbox" checked="{{showLoginStatus::change}}"> </div>
    <div> Show IA button <input type="checkbox" checked="{{showIAStatus::change}}"> </div>
    <div> Show menu button <input type="checkbox" checked="{{showMenuButton::change}}"> </div>


  </div>
  <uql-connect-footer main-domain="https://www.library.uq.edu.au"></uql-connect-footer>
  <uq-minimal-footer></uq-minimal-footer>
</template>


<script>

  if (window.applicationCache) {
    applicationCache.addEventListener('updateready', function() {
      if (confirm('An update is available. Reload now?')) {
        window.applicationCache.swapCache();
        window.location.reload();
      }
    });

    function logEvent(event) {
      console.log(event.type);
    }

    window.applicationCache.addEventListener('checking',logEvent,false);
    window.applicationCache.addEventListener('noupdate',logEvent,false);
    window.applicationCache.addEventListener('downloading',logEvent,false);
    window.applicationCache.addEventListener('progress',logEvent,false);
    window.applicationCache.addEventListener('cached',logEvent,false);
    window.applicationCache.addEventListener('obsolete',logEvent,false);
    window.applicationCache.addEventListener('error',logEvent,false);
  }


  document.cookie="UQLMockData=enabled";

  window.addEventListener('WebComponentsReady', function() {
    // when polymer is ready - configure elements

    Demo.processEvent = function (event) {
      var menu = document.getElementById('menu');
      menu.toggleMenu();
    }


    Demo.appTitle = '';
    Demo.menuJson = '../uql-menu/demo/menu.json';

    Demo.chatStatusConfig = {
      buttonTitle: "Chat",
      buttonTitleOffline: "Ask",
      chatOnlineText: "Chat with us now!",
      chatOfflineText: "Chat is offline.",
      offlineUrl: "http://answers.library.uq.edu.au"
    };

    Demo.showButtonTitle = true;

    //reveal elements with easing in effect
    var content = document.querySelectorAll(".loading");
    for(var i=0; i< content.length; i++){
      var element = content[i];
      element.removeAttribute('unresolved');
    }

  });

</script>


</body>
</html>