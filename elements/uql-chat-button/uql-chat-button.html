<dom-module id="uql-chat-button">

  <link rel="import" href="../elements.html">
  <link rel="stylesheet" href="../../styles/elements-styles.css">

  <template>

    <byutv-jsonp
            auto
            url="{{chatStatusUrl}}"
            on-response="handleChatStatusResponse"
            on-error="handleChatStatusError"
            debounce-duration="300"></byutv-jsonp>

    <template is="dom-if" if="{{!isChatOnline}}">
      <paper-button class="button-inverse" on-tap="openChat" id="chatOfflineButton"><iron-icon icon="notification:sms-failed" aria-label="UQ Library chat is offline"></iron-icon></paper-button>
    </template>

    <template is="dom-if" if="{{isChatOnline}}">
      <paper-button class="button-inverse" on-tap="openChat" id="chatOnlineButton"><iron-icon icon="communication:chat-bubble" aria-label="UQ Library chat is online"></iron-icon></paper-button>
    </template>

  </template>

  <script src="uql-chat-button.js"></script>

</dom-module>
