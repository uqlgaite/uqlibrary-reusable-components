<link rel="import" href="../elements.html">

<!--
`<uql-chat-proactive>` provides a popup at the bottom of the page that offers chat when AskUs is online

Example:
      <uql-chat-proactive></uql-chat-proactive>

@demo uql-chat-proactive/demo/index.html
-->

<dom-module id="uql-chat-proactive">

    <style is="custom-style" include="common-styles">
        :host {
            font-family: var(--font-family);
            font-size: 10px;
        }
    </style>
    <template>
        <uqlibrary-api-contacts id="contactsApi"></uqlibrary-api-contacts>
        <uqlibrary-api-chat-status id="chatStatusApi"></uqlibrary-api-chat-status>
        <uqlibrary-ga id="ga" app-name="Header Proactive Chat"></uqlibrary-ga>

        <div hidden$="[[!_showChatOfflineTab]]">
            <div>
                <paper-button
                        aria-label$="Chat offline - leave your question"
                        class="button-colored-theme"
                        role="button"
                        on-click="_openContactForm">Chat offline - leave your question</paper-button>
            </div>
        </div>

        <div hidden$="[[!_showChatOnlineTab]]">
            <div>
                <paper-button
                        aria-label$="Chat - online now"
                        class="utton-callout button-colored-theme"
                        role="button"
                        on-click="_openChat">Chat - online now</paper-button>
            </div>
        </div>

        <div hidden$="[[!_showPopupChatBlock]]">
            <paper-dialog>
                <div>
                    <p>Chat - online now</p>
                    <paper-button
                            aria-label$="Close"
                            class="button-colored-theme"
                            role="button"
                            on-click="_closeDialog">x</paper-button>
                </div>
                <p>Library staff are here to assist. Would you like to chat?</p>
                <div>
                    <paper-button
                            aria-label$="Chat now"
                            class="button-callout button-colored-theme"
                            role="button"
                            on-click="_openChat">Chat now</paper-button>
                    <paper-button
                            aria-label$="Maybe later"
                            class="button-callout button-colored-theme"
                            role="button"
                            on-click="_closeDialog">Maybe later</paper-button>
                </div>
            </paper-dialog>
        </div>

    </template>

    <script src="uql-chat-proactive.js"></script>
</dom-module>
