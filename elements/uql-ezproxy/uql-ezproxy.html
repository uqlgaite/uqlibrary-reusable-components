<dom-module id="uql-ezproxy">
  <link rel="import" href="../elements.html">

  <style is="custom-style" include="common-styles">

    :host {
      margin: 30px 0;
      display: block;
      font-family: var(--font-family);
      font-size:14px;
    }

    .input-container {
      @apply(--layout-horizontal);
    }

    .output-container {
      @apply(--layout-vertical);
    }

    paper-card {
      width: 100%;
      padding: 16px;
      background-color: var(--uq-grey-light);
    }

    .buttons-container {
      text-align: right;
      margin-top: 16px;
    }

    @media all and (max-width: 600px) {

      .input-container {
        @apply(--layout-vertical);
      }

      .buttons-container {
        @apply(--layout-vertical);
      }

      .buttons-container paper-button {
        margin-bottom: 16px;
      }
    }

  </style>

  <template>
    <paper-card elevation="1">
      <div hidden$="{{!hide}}" class="input-container">
        <div class="flex">
          <paper-input-container id="urlContainer" label="URL Address">
            <iron-a11y-keys id="a11y" target="[[url]]" keys="enter" on-keys-pressed="_submit"></iron-a11y-keys>
            <input is="iron-input" id="url" type="URL" placeholder="DOI or URL" required>
            <paper-input-error id="errorMsg"></paper-input-error>
          </paper-input-container>
        </div>

        <div class="buttons-container self-center">
          <paper-button on-click="_submit" class="button-action">{{buttonLabelValue}}</paper-button>
        </div>

      </div>

      <div hidden$="{{hide}}" class="output-container">

        <paper-textarea id="outputUrl" readonly="true" value="[[target]]"></paper-textarea>

        <div class="buttons-container">
          <paper-button id="testLinkButton" class="button-secondary-action" on-click="goProxie">Test link</paper-button>
          <paper-button id="copyLinkButton" class="button-secondary-action" on-click="grabUrl">Copy link</paper-button>
          <paper-button id="resetButton" class="button-action" on-click="panelToggle">Create new link</paper-button>
        </div>

      </div>

    </paper-card>

    <paper-toast id="copyNotification" text="[[copyStatus]]"></paper-toast>
  </template>
  <script src="uql-ezproxy.js"></script>
</dom-module>
