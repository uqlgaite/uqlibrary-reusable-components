<dom-module id="uql-menu">

  <link rel="import" href="../elements.html">
  <style is="custom-style">

    uql-drawer-panel {
      display: none;
    }

    @media all and (max-width: 1047px) {
      uql-mega-menu {
        display: none;
      }

      uql-drawer-panel {
        display: block;
      }
    }

  </style>
  <template>
    <iron-ajax auto="{{autoLoad}}" url="{{menuJson}}"
               handle-as="json"
               on-response="_handleResponse"
               on-error="_handleError"
               verbose="{{verbose}}"></iron-ajax>

    <uql-mega-menu id="horizontalMenu" menu="{{menu}}" selected-menu-item-index="{{selectedMenuItemIndex}}" selected-sub-menu-item-index="{{selectedSubMenuItemIndex}}"></uql-mega-menu>
    <uql-drawer-panel id="drawerPanelMenu" menu="{{menu}}" selected-menu-item-index="{{selectedMenuItemIndex}}" selected-sub-menu-item-index="{{selectedSubMenuItemIndex}}"></uql-drawer-panel>
  </template>

  <script src="uql-menu.js"></script>

</dom-module>
